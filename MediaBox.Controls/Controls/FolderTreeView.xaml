<TreeView x:Class="SandBeige.MediaBox.Controls.Controls.FolderTreeView"
			xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
			xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
			xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
			xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
			mc:Ignorable="d" 
			d:DesignHeight="450" d:DesignWidth="800"
			ItemsSource="{Binding Root,RelativeSource={RelativeSource Self}}">
	<ItemsControl.ItemContainerStyle>
		<Style TargetType="{x:Type TreeViewItem}" BasedOn="{StaticResource {x:Type TreeViewItem}}">
			<Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}"/>
			<Setter Property="IsSelected" Value="{Binding IsSelected, Mode=TwoWay}"/>
		</Style>
	</ItemsControl.ItemContainerStyle>
	<ItemsControl.ItemTemplate>
		<HierarchicalDataTemplate ItemsSource="{Binding Children}">
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto"/>
					<ColumnDefinition Width="*"/>
				</Grid.ColumnDefinitions>
				<Image Grid.Column="0" Width="16" Source="{Binding Icon}" Margin="0,2,5,2"/>
				<TextBlock
					Grid.Column="1"
					Text="{Binding DisplayName}"
					VerticalAlignment="Center"/>
			</Grid>
		</HierarchicalDataTemplate>
	</ItemsControl.ItemTemplate>
</TreeView>
