<Window x:Class="SandBeige.MediaBox.Views.Album.Filter.SetFilterWindow"
		xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
		xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
		xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
		xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
		xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
		xmlns:ei="http://schemas.microsoft.com/expression/2010/interactions"
		xmlns:l="http://schemas.livet-mvvm.net/2011/wpf"
		xmlns:local="clr-namespace:SandBeige.MediaBox.Views.Album.Filter"
		xmlns:vm="clr-namespace:SandBeige.MediaBox.ViewModels.Album.Filter"
		Title="フィルター設定" Height="350" Width="525"
		mc:Ignorable="d"
		d:DataContext="{d:DesignInstance vm:FilterDescriptionManagerViewModel}">
	<i:Interaction.Triggers>
		<i:EventTrigger EventName="Closed">
			<l:DataContextDisposeAction/>
		</i:EventTrigger>
	</i:Interaction.Triggers>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition Width="200"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>
		<ItemsControl
			Grid.Column="0"
			ItemsSource="{Binding FilterItems}">
			<ItemsControl.ItemTemplate>
				<DataTemplate>
					<Grid Grid.IsSharedSizeScope="True">
						<Grid.ColumnDefinitions>
							<ColumnDefinition Width="Auto" SharedSizeGroup="col1"/>
							<ColumnDefinition Width="Auto" SharedSizeGroup="col2"/>
						</Grid.ColumnDefinitions>
						<TextBlock
							Grid.Column="0"
							Text="{Binding DisplayName}"/>
						<Button
							Grid.Column="1"
							Content="削除"
							Command="{
								Binding DataContext.RemoveFilterCommand,
								RelativeSource={
									RelativeSource AncestorType=local:SetFilterWindow
								}
							}"
							CommandParameter="{Binding }"/>
					</Grid>
				</DataTemplate>
			</ItemsControl.ItemTemplate>
		</ItemsControl>
		<StackPanel Grid.Column="1">
			<TextBlock Text="タグフィルター追加"/>
			<StackPanel Orientation="Horizontal">
				<TextBox Width="200" Name="TagName"/>
				<Button Command="{Binding AddTagFilterCommand}" CommandParameter="{Binding Text, ElementName=TagName}" Content="追加"/>
			</StackPanel>
			<TextBlock Text="ファイルパスフィルター追加"/>
			<StackPanel Orientation="Horizontal">
				<TextBox Width="200" Name="FilePath"/>
				<Button Command="{Binding AddFilePathFilterCommand}" CommandParameter="{Binding Text, ElementName=FilePath}" Content="追加"/>
			</StackPanel>
			<TextBlock Text="評価フィルター追加"/>
			<StackPanel Orientation="Horizontal">
				<TextBox Width="200" Text="{Binding Rate.Value,UpdateSourceTrigger=PropertyChanged}" />
				<Button Command="{Binding AddRateFilterCommand}" CommandParameter="{Binding Rate.Value}" Content="追加"/>
			</StackPanel>
		</StackPanel>
	</Grid>
</Window>
